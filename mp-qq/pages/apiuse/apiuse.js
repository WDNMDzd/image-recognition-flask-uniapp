(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/apiuse/apiuse"],{"0ea1":function(e,t,n){"use strict";var o=n("d972"),a=n.n(o);a.a},"200c":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var o={helangCompress:function(){return Promise.all([n.e("common/vendor"),n.e("components/helang-compress/helang-compress")]).then(n.bind(null,"c0a7"))},tTable:function(){return n.e("components/t-table/t-table").then(n.bind(null,"35fc"))}},a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.isHas?e.__map(e.tableList,(function(t,n){var o=e.__get_orig(t),a=e._f("dealVal")(t.score);return{$orig:o,f0:a}})):null);e.$mp.data=Object.assign({},{$root:{l0:n}})},s=[]},"5fd7":function(e,t,n){"use strict";n.r(t);var o=n("200c"),a=n("74df");for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("0ea1");var i,r=n("f0c5"),c=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);t["default"]=c.exports},"74df":function(e,t,n){"use strict";n.r(t);var o=n("b2d8"),a=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=a.a},b2d8:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){n.e("components/t-table/t-table").then(function(){return resolve(n("35fc"))}.bind(null,n)).catch(n.oe)},a=function(){n.e("components/t-table/t-th").then(function(){return resolve(n("4920"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/t-table/t-tr").then(function(){return resolve(n("c483"))}.bind(null,n)).catch(n.oe)},i=function(){n.e("components/t-table/t-td").then(function(){return resolve(n("fc6b"))}.bind(null,n)).catch(n.oe)},r=function(){Promise.all([n.e("common/vendor"),n.e("components/helang-compress/helang-compress")]).then(function(){return resolve(n("c0a7"))}.bind(null,n)).catch(n.oe)},c={components:{tTable:o,tTh:a,tTr:s,tTd:i,helangCompress:r},filters:{dealVal:function(e){var t=(100*parseFloat(e)).toString();return t=t.substr(0,5)+"%",t}},data:function(){return{imgSrc:"",type:0,tableList:[],isHas:!1,title:""}},mounted:function(){},onLoad:function(t){console.log(t.type);var n="";this.type=t.type,n=0==t.type?"动物识别":1==t.type?"菜品识别":2==t.type?"车辆识别":3==t.type?"植物识别":4==t.type?"果蔬识别":"我是你狗哥",e.setNavigationBarTitle({title:n}),this.title=n},methods:{upfile:function(){var t=this;e.chooseImage({count:1,success:function(n){console.log(n),t.imgSrc=n.tempFilePaths[0],t.$refs.helangCompress.compress({src:n.tempFilePaths[0],maxSize:800,fileType:"jpg",quality:.85,minSize:-1}).then((function(n){e.uploadFile({sizeType:["compressed"],url:"xxxx",filePath:n,fileType:"image",name:"file",formData:{type:t.type},success:function(n){if(e.showLoading({title:"加载中"}),"413"==n.statusCode)return console.log("d12dw"),e.hideLoading(),void e.showToast({title:"图片过大,请更换图片再次尝试",icon:"none",duration:1500});console.log(n),e.hideLoading();var o=unescape(n.data.replace(/\\u/g,"%u")),a=JSON.parse(o);console.log(o),console.log(a.result);var s=a.result;1==t.type&&s.forEach((function(e,t){s[t].score=e.probability})),t.tableList=s,e.hideLoading(),t.isHas=!0;var i=a.result[0].name,r=new Date,c=r.getFullYear(),l=r.getMonth()+1,u=r.getDate(),f=r.getHours()<10?"0"+r.getHours():r.getHours(),d=r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes(),p=r.getSeconds()<10?"0"+r.getSeconds():r.getSeconds();l>=1&&l<=9&&(l="0"+l),u>=0&&u<=9&&(u="0"+u);var g=c+"-"+l+"-"+u+" "+f+":"+d+":"+p;e.getStorage({key:"historys",success:function(n){console.log(n);var o=JSON.parse(n.data);o.unshift({date:g,type:t.title,onebe:i}),e.setStorage({key:"historys",data:JSON.stringify(o)})},fail:function(){var n=[];n.unshift({date:g,type:t.title,onebe:i}),e.setStorage({key:"historys",data:JSON.stringify(n)})}})}})}))}})}}};t.default=c}).call(this,n("a821")["default"])},d972:function(e,t,n){},f192:function(e,t,n){"use strict";(function(e){n("bae5");o(n("66fd"));var t=o(n("5fd7"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("a821")["createPage"])}},[["f192","common/runtime","common/vendor"]]]);